---
layout: default
title: Java基础：多线程之Thread与Runnable
---
一、线程的创建

线程的创建有两种，一种是继承自Thread类，一种是实现Runnable接口。其中，Thread类本质上也是实现了Runnable接口。

继承Thread类的创建方法有两种：

1. class Thread1 extends Thread;
2. 

二、线程的启动

线程的启动有两种方式，继承自Thread类可以通过调用start()方法或run()方法启动；是调用start()方法（仅Thread可用），一种是调用run()方法（Thread）。



一、实现

Java中，线程的实现有两种。一种是实现Runnable接口，一种是继承自Thread类。其中，Thread类本质也是实现了Runnable接口。

二者区别：

1. Runnable接口使用run()方法启动；Thread使用start()方法启动，也可以使用run()方法启动。
2. Runnable接口中调用run()方法会等到方法执行完毕后再返回（Thread中调用run()方法启动也相同）；Thread通过启动start()方法后会立即返回。（我的理解是：调用run()方法相当于调用普通的函数方法，需等到执行完毕才返回；调用start()方法相当于告诉线程要“开始启动”，线程把run()方法启动后即返回“已经启动完成！”至于剩下的任务，就让run()方法自己执行就好了，start()方法就不管了）

选择哪种方法创建？

[如何创建并运行java线程](http://ifeve.com/creating-and-starting-java-threads/)中说到：

> 对于这两种方式哪种好并没有一个确定的答案，它们都能满足要求。就我个人意见，我更倾向于实现Runnable接口这种方法。因为线程池可以有效的管理实现了Runnable接口的线程，如果线程池满了，新的线程就会排队等候执行，直到线程池空闲出来为止。而如果线程是通过实现Thread子类实现的，这将会复杂一些。

二、一些记录

1. 单线程可以看做是多线程的一个特例，即线程数为1的时候。
2. 多线程是不管对单核还是多核CPU都是可以实现的。对单核CPU的实现主要是对时间分片，来分配给不同的线程；
2. 多线程实际中是提高处理速度的。因为很多时候线程需要等待键盘输入等操作，此时，转换时间片给其他线程能大大提高处理速度。如果不需要等待输入等操作，完全由计算机处理的程序的话，多线程的速度是不如单线程的，因为增加了切换任务的开销。
3. 一个Java程序执行至少开启两个线程，一个main线程，一个gc线程。
4. 根据《Java编程思想》，并发“具有可论证的确定性，但是实际上具有不可确定性”。

三、线程与进程

> 线程与进程相似,是一段完成某个特定功能的代码,是程序中单个顺序的流控制;但与进程不同的是,同类的多个线程是共享一块内存空间和一组系统资源,而线程本身的数据通常只有微处理器的寄存器数据,以及一个供程序执行时使用的堆栈.所以系统在产生一个线程,或者在各个线程之间切换时,负担要比进程小的多,正因如此,线程也被称为轻负荷进程(light-weight process).一个进程中可以包含多个线程.



扩展阅读：

[JAVA线程池管理及分布式HADOOP调度框架搭建](http://www.lanceyan.com/tech/arch/java_threadpool_cloud_arch.html)